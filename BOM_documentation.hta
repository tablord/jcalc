<HTML sizset="0" sizcache="1" xmlns="http://www.w3.org/1999/xhtml" APPLICATIONNAME="D:\Documents\programmation\jcalc\jcalcV0\BOM_documentation.hta" xmlns:svg = "http://www.w3.org/2000/svg" XMLNS:HTA><HEAD><HTA:APPLICATION APPLICATIONNAME="JCalc vide" SINGLEINSTANCE="yes" SCROLL="yes"></HTA:APPLICATION><LINK rel=stylesheet type=text/css href="jcalc.css" src="jcalc.css">
<SCRIPT src="jquery-1.5.1.min.js"></SCRIPT>

<SCRIPT class=UPDATE src="jcalcEdi.js"></SCRIPT>

<SCRIPT src="units.js"></SCRIPT>

<SCRIPT src="jcalc.js"></SCRIPT>

<SCRIPT src="axe.js"></SCRIPT>

<SCRIPT src="stateMachine.js"></SCRIPT>

<SCRIPT src="BOM.js"></SCRIPT>

<SCRIPT src="sys.js"></SCRIPT>

<SCRIPT src="ocrRdy.js"></SCRIPT>

<SCRIPT src="finance.js"></SCRIPT>
</HEAD>
<BODY sizset="0" sizcache="1" designMode="on">
<DIV id=menu class=TOOLBAR>
<DIV><INPUT onclick=jc.hideCode(event) type=checkbox>hide codes</INPUT><INPUT onclick=jc.hideCut(event) type=checkbox>hide Cut</INPUT><INPUT onclick=jc.hideTest(event) type=checkbox>hide tests</INPUT><INPUT onclick=jc.hideTrace(event) type=checkbox>hide traces</INPUT><INPUT onclick=jc.autoRun(event) CHECKED type=checkbox>auto run</INPUT><BUTTON onclick=jc.selectElement(undefined);>hide ToolBars</BUTTON><BUTTON onclick=jc.print();>print...</BUTTON></DIV>
<DIV><SPAN><BUTTON onclick=jc.execUntilSelected(); id=runUntilSelectedBtn style="COLOR: #8dff60">&#9658;|</BUTTON><BUTTON onclick=jc.execAll(); id=runAllBtn style="COLOR: #8dff60">&#9658;&#9658;</BUTTON><BUTTON onclick=jc.clearTimers(); id=stopAnimation style="COLOR: red">&#9632;</BUTTON><BUTTON onclick=jc.save(); id=saveBtn class=WARNING>save</BUTTON><SPAN id=codeId>no selection</SPAN><BUTTON onclick=jc.showOutputHtml(this);>show html</BUTTON><BUTTON onclick=jc.copyOutputToTest(this);>&#8594;test</BUTTON><BUTTON onclick=jc.cutBlock(jc.selectedElement);>&#8595; cut &#8595;</BUTTON></SPAN><SPAN id=objectToolBar></SPAN></DIV></DIV>
<DIV id=jcContent style="OVERFLOW: scroll; BORDER-TOP: medium none; HEIGHT: 650px; BORDER-RIGHT: medium none; BORDER-BOTTOM: medium none; BORDER-LEFT: medium none" sizset="0" sizcache="1"><PRE id=code0006 class=CODE contentEditable=false>jc.tableOfContent</PRE>
<DIV id=out0006 class="OUTPUT SUCCESS">
<DIV class=TOC0>1 <A href="file:///D:/Documents/programmation/jcalc/jcalcV0/BOM_documentation.hta#sect0004">The BOM module</A></DIV>
<DIV class=TOC1>1.1 <A href="file:///D:/Documents/programmation/jcalc/jcalcV0/BOM_documentation.hta#sect0007">Bom object</A></DIV>
<DIV class=TOC1>1.2 <A href="file:///D:/Documents/programmation/jcalc/jcalcV0/BOM_documentation.hta#sect0014">Product</A></DIV></DIV>
<DIV id=sect0004 class=SECTION sizset="1" sizcache="1">
<H1 class=SECTIONTITLE contentEditable=false>1 The BOM module</H1>
<DIV class=SECTIONCONTAINER sizset="1" sizcache="1">
<DIV id=rich0005 class=RICHTEXT contentEditable=false>The goal of the BOM module is to help manipulate a product structure that can be configured by different opions and variants</DIV>
<DIV id=sect0007 class=SECTION sizset="1" sizcache="1">
<H2 class=SECTIONTITLE contentEditable=false>1.1 Bom object</H2>
<DIV class=SECTIONCONTAINER sizset="1" sizcache="1">
<DIV id=rich0008 class=RICHTEXT contentEditable=false>
<P>The Bom object is basically a array of lines {part: , quantity: , neededAt: }</P>
<P>It express the composition of a part of the product.</P>
<P>The Bom does not need to regroup similar parts, which means that the same part reference can be found in several lines. So it is perfectly possible to put the screws of a cover near the cover and the same screw near another component for that component.</P>
<P>&nbsp;</P>
<P>A Bom has a condition for which the Bom is valid</P></DIV><PRE id=code0011 class=CODE contentEditable=false>jc.bom('main170',['width_170'],
    {part:'OS frame',quantity:1,neededAt:0},
    {part:'GS frame',quantity:1,neededAt:0},
    {part:'beam 170',quantity:6,neededAt:0}
)</PRE>
<DIV id=out0011 class="OUTPUT SUCCESS">
<FIELDSET><LEGEND>BOM main170</LEGEND>
<P>condition:(width_170)</P>
<TABLE>
<THEAD>
<TR>
<TH>part</TH>
<TH>quantity</TH>
<TH>neededAt</TH></TR></THEAD>
<TBODY>
<TR>
<TH>OS&nbsp;frame</TH>
<TD>1</TD>
<TD>0</TD></TR>
<TR>
<TH>GS&nbsp;frame</TH>
<TD>1</TD>
<TD>0</TD></TR>
<TR>
<TH>beam&nbsp;170</TH>
<TD>6</TD>
<TD>0</TD></TR></TBODY></TABLE></FIELDSET></DIV></DIV></DIV>
<DIV id=sect0014 class=SECTION sizset="2" sizcache="1">
<H2 class=SECTIONTITLE contentEditable=false>1.2 Product</H2>
<DIV class=SECTIONCONTAINER sizset="2" sizcache="1">
<DIV id=rich0015 class=RICHTEXT contentEditable=false>
<P>The jc.Product object gather all information around the product</P>
<P>&nbsp;</P></DIV><PRE id=code0016 class=CODE contentEditable=false>jc.inspect(jc.Product.prototype)</PRE>
<DIV id=out0016 class="OUTPUT SUCCESS">
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>addBom</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function(bom)</B><BR></TD></TR>
<TR>
<TH vAlign=top>addPartNeed</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function(part,quantity,condition,neededAt)</B><BR></TD></TR>
<TR>
<TH vAlign=top>updateParts</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function ()</B><BR></TD></TR>
<TR>
<TH vAlign=top>updateVariables</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function ()</B><BR>&nbsp;updates&nbsp;all&nbsp;variables&nbsp;that&nbsp;are&nbsp;used&nbsp;in&nbsp;BOMs.<BR>&nbsp;also&nbsp;updates&nbsp;this.variant,&nbsp;the&nbsp;global&nbsp;variable&nbsp;that&nbsp;is&nbsp;used&nbsp;in&nbsp;calculation</TD></TR>
<TR>
<TH vAlign=top>toString</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function()</B><BR></TD></TR>
<TR>
<TH vAlign=top>span</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function()</B><BR></TD></TR>
<TR>
<TH vAlign=top>setConstraints</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function(scenario)</B><BR>&nbsp;scenario&nbsp;=&nbsp;{quantity:qq,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max:{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'cond1_c1':xx,<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'cond1_c2':yy,&nbsp;&nbsp;etc..<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</TD></TR>
<TR>
<TH vAlign=top>updateScenarii</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function()</B><BR></TD></TR></TBODY></TABLE></FIELDSET></DIV></DIV><PRE id=code0018 class=CODE contentEditable=false>jc.product('product1',
  jc.bom('main170',['width_170'],
    {part:'OS frame',quantity:1,neededAt:0},
    {part:'GS frame',quantity:1,neededAt:0},
    {part:'beam 170',quantity:6,neededAt:0}
  ),
  jc.bom('main210_manual',['width_210','setup_manual'],
    {part:'OS frame',quantity:1,neededAt:0},
    {part:'GS frame',quantity:1,neededAt:0},
    {part:'beam 210',quantity:6,neededAt:0}
  ),
  jc.bom('main210_auto',['width_210','setup_automatic'],
    {part:'OS frame',quantity:1,neededAt:0},
    {part:'GS frame',quantity:1,neededAt:0},
    {part:'beam 210',quantity:6,neededAt:0}
  )
).updateVariables()
.setConstraints({quantity:10,max:{'width_170':6,'width_210':7,'setup_manual':10,'setup_automatic':8}})
.updateParts()
.updateScenarii()
product1.parts['OS frame'].code().compile().computeNeeds()
product1</PRE>
<DIV id=out0018 class="OUTPUT SUCCESS">
<H2>Product product1</H2>
<FIELDSET><LEGEND>Variables</LEGEND><SPAN>ProductVariable <VAR>width</VAR> for 10<BR>
<TABLE>
<THEAD>
<TR>
<TH>value</TH>
<TH>max</TH></TR></THEAD>
<TBODY>
<TR>
<TH>width_170</TH>
<TD>6</TD></TR>
<TR>
<TH>width_210</TH>
<TD>7</TD></TR></TBODY></TABLE>
<TABLE>
<THEAD>
<TR>
<TH>width_170</TH>
<TH>width_210</TH></TR></THEAD>
<TBODY>
<TR>
<TD>6</TD>
<TD>4</TD></TR>
<TR>
<TD>3</TD>
<TD>7</TD></TR></TBODY></TABLE></SPAN><SPAN>ProductVariable <VAR>setup</VAR> for 10<BR>
<TABLE>
<THEAD>
<TR>
<TH>value</TH>
<TH>max</TH></TR></THEAD>
<TBODY>
<TR>
<TH>setup_manual</TH>
<TD>10</TD></TR>
<TR>
<TH>setup_automatic</TH>
<TD>8</TD></TR></TBODY></TABLE>
<TABLE>
<THEAD>
<TR>
<TH>setup_manual</TH>
<TH>setup_automatic</TH></TR></THEAD>
<TBODY>
<TR>
<TD>10</TD>
<TD>0</TD></TR>
<TR>
<TD>2</TD>
<TD>8</TD></TR></TBODY></TABLE></SPAN></FIELDSET>
<FIELDSET><LEGEND>BOMs</LEGEND>
<FIELDSET><LEGEND>BOM main170</LEGEND>
<P>condition:(width_170)</P>
<TABLE>
<THEAD>
<TR>
<TH>part</TH>
<TH>quantity</TH>
<TH>neededAt</TH></TR></THEAD>
<TBODY>
<TR>
<TH>OS&nbsp;frame</TH>
<TD>1</TD>
<TD>0</TD></TR>
<TR>
<TH>GS&nbsp;frame</TH>
<TD>1</TD>
<TD>0</TD></TR>
<TR>
<TH>beam&nbsp;170</TH>
<TD>6</TD>
<TD>0</TD></TR></TBODY></TABLE></FIELDSET>
<FIELDSET><LEGEND>BOM main210_manual</LEGEND>
<P>condition:(setup_manual &amp;&amp; width_210)</P>
<TABLE>
<THEAD>
<TR>
<TH>part</TH>
<TH>quantity</TH>
<TH>neededAt</TH></TR></THEAD>
<TBODY>
<TR>
<TH>OS&nbsp;frame</TH>
<TD>1</TD>
<TD>0</TD></TR>
<TR>
<TH>GS&nbsp;frame</TH>
<TD>1</TD>
<TD>0</TD></TR>
<TR>
<TH>beam&nbsp;210</TH>
<TD>6</TD>
<TD>0</TD></TR></TBODY></TABLE></FIELDSET>
<FIELDSET><LEGEND>BOM main210_auto</LEGEND>
<P>condition:(setup_automatic &amp;&amp; width_210)</P>
<TABLE>
<THEAD>
<TR>
<TH>part</TH>
<TH>quantity</TH>
<TH>neededAt</TH></TR></THEAD>
<TBODY>
<TR>
<TH>OS&nbsp;frame</TH>
<TD>1</TD>
<TD>0</TD></TR>
<TR>
<TH>GS&nbsp;frame</TH>
<TD>1</TD>
<TD>0</TD></TR>
<TR>
<TH>beam&nbsp;210</TH>
<TD>6</TD>
<TD>0</TD></TR></TBODY></TABLE></FIELDSET></FIELDSET>
<FIELDSET><LEGEND>Parts</LEGEND>
<FIELDSET><LEGEND>OS frame</LEGEND>
<TABLE>
<THEAD>
<TR>
<TH>quantity</TH>
<TH>condition</TH>
<TH>variables</TH>
<TH>neededAt</TH>
<TH>group</TH></TR></THEAD>
<TBODY>
<TR>
<TD>1</TD>
<TD>width_170</TD>
<TD>width</TD>
<TD>0</TD>
<TD>0</TD></TR>
<TR>
<TD>1</TD>
<TD>setup_manual,width_210</TD>
<TD>setup,width</TD>
<TD>0</TD>
<TD>0</TD></TR>
<TR>
<TD>1</TD>
<TD>setup_automatic,width_210</TD>
<TD>setup,width</TD>
<TD>0</TD>
<TD>0</TD></TR></TBODY></TABLE><PRE class=CODEVIEW>with(this.product.variant.clearPlan()) {
  width.worst(function(){
    setup.worst(function(){
      add(1,[width_170],0);
      add(1,[setup_manual,width_210],0);
      add(1,[setup_automatic,width_210],0);
    });
  });
}</PRE>
<DIV><VAR>plan of need</VAR>
<TABLE>
<THEAD>
<TR>
<TH>time</TH>
<TH>quantity</TH>
<TH>cumul</TH></TR></THEAD>
<TBODY>
<TR>
<TD>0</TD>
<TD>12</TD>
<TD>12</TD></TR></TBODY></TABLE></DIV></FIELDSET>
<FIELDSET><LEGEND>GS frame</LEGEND>
<TABLE>
<THEAD>
<TR>
<TH>quantity</TH>
<TH>condition</TH>
<TH>variables</TH>
<TH>neededAt</TH>
<TH>group</TH></TR></THEAD>
<TBODY>
<TR>
<TD>1</TD>
<TD>width_170</TD>
<TD>width</TD>
<TD>0</TD>
<TD>0</TD></TR>
<TR>
<TD>1</TD>
<TD>setup_manual,width_210</TD>
<TD>setup,width</TD>
<TD>0</TD>
<TD>0</TD></TR>
<TR>
<TD>1</TD>
<TD>setup_automatic,width_210</TD>
<TD>setup,width</TD>
<TD>0</TD>
<TD>0</TD></TR></TBODY></TABLE><PRE class=CODEVIEW></PRE>
<DIV><VAR>plan of need</VAR>
<TABLE>
<THEAD>
<TR>
<TH>time</TH>
<TH>quantity</TH>
<TH>cumul</TH></TR></THEAD>
<TBODY>
<TR>
<TD>0</TD>
<TD>12</TD>
<TD>12</TD></TR></TBODY></TABLE></DIV></FIELDSET>
<FIELDSET><LEGEND>beam 170</LEGEND>
<TABLE>
<THEAD>
<TR>
<TH>quantity</TH>
<TH>condition</TH>
<TH>variables</TH>
<TH>neededAt</TH>
<TH>group</TH></TR></THEAD>
<TBODY>
<TR>
<TD>6</TD>
<TD>width_170</TD>
<TD>width</TD>
<TD>0</TD>
<TD>0</TD></TR></TBODY></TABLE><PRE class=CODEVIEW></PRE>
<DIV><VAR>plan of need</VAR>
<TABLE>
<THEAD>
<TR>
<TH>time</TH>
<TH>quantity</TH>
<TH>cumul</TH></TR></THEAD>
<TBODY>
<TR>
<TD>0</TD>
<TD>12</TD>
<TD>12</TD></TR></TBODY></TABLE></DIV></FIELDSET>
<FIELDSET><LEGEND>beam 210</LEGEND>
<TABLE>
<THEAD>
<TR>
<TH>quantity</TH>
<TH>condition</TH>
<TH>variables</TH>
<TH>neededAt</TH>
<TH>group</TH></TR></THEAD>
<TBODY>
<TR>
<TD>6</TD>
<TD>setup_manual,width_210</TD>
<TD>setup,width</TD>
<TD>0</TD>
<TD>0</TD></TR>
<TR>
<TD>6</TD>
<TD>setup_automatic,width_210</TD>
<TD>setup,width</TD>
<TD>0</TD>
<TD>0</TD></TR></TBODY></TABLE><PRE class=CODEVIEW></PRE>
<DIV><VAR>plan of need</VAR>
<TABLE>
<THEAD>
<TR>
<TH>time</TH>
<TH>quantity</TH>
<TH>cumul</TH></TR></THEAD>
<TBODY>
<TR>
<TD>0</TD>
<TD>12</TD>
<TD>12</TD></TR></TBODY></TABLE></DIV></FIELDSET></FIELDSET></DIV></DIV></DIV></DIV></DIV></DIV></BODY></HTML>