<HTML xmlns="http://www.w3.org/1999/xhtml" xmlns:svg = "http://www.w3.org/2000/svg" XMLNS:HTA><HEAD><HTA:APPLICATION SINGLEINSTANCE="yes" SCROLL="yes" APPLICATIONNAME="JCalc: Finance Documentation"></HTA:APPLICATION><LINK rel=stylesheet type=text/css href="jcalc.css" src="jcalc.css">
<SCRIPT src="jquery-1.5.1.min.js"></SCRIPT>

<SCRIPT src="jcalcEdi.js"></SCRIPT>

<SCRIPT src="jcalc.js"></SCRIPT>

<SCRIPT src="axe.js"></SCRIPT>

<SCRIPT src="stateMachine.js"></SCRIPT>

<SCRIPT src="BOM.js"></SCRIPT>

<SCRIPT src="sys.js"></SCRIPT>

<SCRIPT src="ocrRdy.js"></SCRIPT>

<SCRIPT src="finance.js"></SCRIPT>
</HEAD>
<BODY designMode="on">
<DIV id=sect0012 class=SECTION>
<H1 onclick=jc.selectElement(this.parentNode); class=SECTIONTITLE contentEditable=false>1 Finance module</H1>
<DIV class=SECTIONCONTAINER>
<DIV onclick=jc.selectElement(this); id=rich0013 class=RICHTEXT contentEditable=false jQuery15106665571144262056="4" jQuery15108542791116371112="3" jQuery15105608160678483406="4" jQuery15109979635317510751="4">the purpose of the finance.js module is to help in business plan and the simulation of financial situations</DIV>
<DIV id=sect0014 class=SECTION>
<H2 onclick=jc.selectElement(this.parentNode); class=SECTIONTITLE contentEditable=false>1.1 CashFlow</H2>
<DIV class=SECTIONCONTAINER>
<DIV onclick=jc.selectElement(this); id=rich0015 class=RICHTEXT contentEditable=false jQuery15106665571144262056="5" jQuery15108542791116371112="4" jQuery15105608160678483406="5" jQuery15109979635317510751="5">
<P>the CashFlow class is the basic bloc of this module</P>
<P>in order to instanciate a new CashFlow object just use the </P>
<P><SPAN id=code0018 class="CODE AUTOEXEC" style="DISPLAY: none" jQuery15106665571144262056="1" jQuery15109979635317510751="1">jc.help(jc.cashFlow)</SPAN><SPAN id=out0018 class="OUTPUT SUCCESS" contentEditable=false><B>function cashFlow(name,startDate,endDate,currency)</B><BR></SPAN></P>
<P>&nbsp;</P>
<P>&nbsp;</P></DIV><PRE onclick=jc.selectElement(this); id=code0021 class=CODE contentEditable=false jQuery15109979635317510751="7"><P>jc.cashFlow('myBusiness','2019/1/1','2029/1/1','CHF')</P></PRE>
<DIV onclick=jc.outClick(this) id=out0021 class="OUTPUT OLD SUCCESS"><VAR>myBusiness</VAR>
<TABLE border=1>
<THEAD>
<TR></TR></THEAD>
<TBODY></TBODY></TABLE></DIV>
<DIV onclick=jc.selectElement(this); id=rich0022 class=RICHTEXT contentEditable=false jQuery15109979635317510751="8">
<P>so far so good, but not much inside. like with table or variable, this CashFlow has a name and it has been added to v so it is accessible like a global variable</P>
<P>&nbsp;</P>
<P>let assume that the first thing is to inject some cash from your own savings</P></DIV><PRE onclick=jc.selectElement(this); id=code0023 class=CODE contentEditable=false jQuery15109979635317510751="9">myBusiness.recieve('initial cash from my own savings',100000,'2019/2/1')</PRE>
<DIV onclick=jc.outClick(this) id=out0023 class="OUTPUT OLD SUCCESS"><VAR>myBusiness</VAR>
<TABLE border=1>
<THEAD>
<TR>
<TH>date</TH>
<TH>amount</TH>
<TH>subject</TH>
<TH>balance</TH></TR></THEAD>
<TBODY>
<TR>
<TD>Fri Feb 1 00:00:00 UTC+0100 2019</TD>
<TD>100000</TD>
<TD>initial cash from my own savings</TD>
<TD>100000</TD></TR></TBODY></TABLE></DIV>
<DIV onclick=jc.selectElement(this); id=rich0024 class=RICHTEXT contentEditable=false jQuery15109979635317510751="10">Wow now some cash is inside the company, but as usual, things start and you have to pay the first bills</DIV><PRE onclick=jc.selectElement(this); id=code0025 class=CODE contentEditable=false jQuery15109979635317510751="11"><P>myBusiness</P><P>.pay('registration fees',20000,'2019/3/1')</P><P>.pay('lawers status redaction',4000,'2019/3/15')</P></PRE>
<DIV onclick=jc.outClick(this) id=out0025 class="OUTPUT OLD SUCCESS"><VAR>myBusiness</VAR>
<TABLE border=1>
<THEAD>
<TR>
<TH>date</TH>
<TH>amount</TH>
<TH>subject</TH>
<TH>balance</TH></TR></THEAD>
<TBODY>
<TR>
<TD>Fri Feb 1 00:00:00 UTC+0100 2019</TD>
<TD>100000</TD>
<TD>initial cash from my own savings</TD>
<TD>100000</TD></TR>
<TR>
<TD>Fri Mar 1 00:00:00 UTC+0100 2019</TD>
<TD>-20000</TD>
<TD>registration fees</TD>
<TD>80000</TD></TR>
<TR>
<TD>Fri Mar 15 00:00:00 UTC+0100 2019</TD>
<TD>-4000</TD>
<TD>lawers status redaction</TD>
<TD>76000</TD></TR></TBODY></TABLE></DIV>
<DIV onclick=jc.selectElement(this); id=rich0026 class=RICHTEXT contentEditable=false jQuery15109979635317510751="12">
<P>As you see the methods receive or pay allow method chaining so you can simple call .pay in a serial manner. As usual in <SPAN id=code0027 class="CODE AUTOEXEC" style="DISPLAY: none">jc.name</SPAN><SPAN id=out0027 class="OUTPUT SUCCESS" contentEditable=false>JCalc</SPAN> if the result of a code block is an object, its .span() method will be called and so we can visualize the result.</P>
<P>Now we just pay some bills without taking care to the structure or nature of the things. But now we will have some fixed cost since we just sign a rent contract for an office for 1 year. So let start to be a bit more structured, even if this is now mandatory</P></DIV><PRE onclick=jc.selectElement(this); id=code0028 class=CODE contentEditable=false jQuery15109979635317510751="13"><P>myBusiness.account('fixedCost')</P><P>  .pay('initial caution',2000,'2019/3/30')</P></PRE>
<DIV onclick=jc.outClick(this) id=out0028 class="OUTPUT OLD SUCCESS"><VAR>fixedCost</VAR>
<TABLE border=1>
<THEAD>
<TR>
<TH>date</TH>
<TH>amount</TH>
<TH>subject</TH>
<TH>balance</TH></TR></THEAD>
<TBODY>
<TR>
<TD>Sat Mar 30 00:00:00 UTC+0100 2019</TD>
<TD>-2000</TD>
<TD>initial caution</TD>
<TD>-2000</TD></TR></TBODY></TABLE></DIV>
<DIV onclick=jc.selectElement(this); id=rich0029 class=RICHTEXT contentEditable=false jQuery15109979635317510751="14">The beauty is that it is a sub cashFlow, that is still accessible from the main business plan and is fully part of the main one:</DIV><PRE onclick=jc.selectElement(this); id=code0030 class=CODE contentEditable=false jQuery15109979635317510751="15"><P>myBusiness</P></PRE>
<DIV onclick=jc.outClick(this) id=out0030 class="OUTPUT OLD SUCCESS"><VAR>myBusiness</VAR>
<TABLE border=1>
<THEAD>
<TR>
<TH>date</TH>
<TH>amount</TH>
<TH>subject</TH>
<TH>balance</TH></TR></THEAD>
<TBODY>
<TR>
<TD>Fri Feb 1 00:00:00 UTC+0100 2019</TD>
<TD>100000</TD>
<TD>initial cash from my own savings</TD>
<TD>100000</TD></TR>
<TR>
<TD>Fri Mar 1 00:00:00 UTC+0100 2019</TD>
<TD>-20000</TD>
<TD>registration fees</TD>
<TD>80000</TD></TR>
<TR>
<TD>Fri Mar 15 00:00:00 UTC+0100 2019</TD>
<TD>-4000</TD>
<TD>lawers status redaction</TD>
<TD>76000</TD></TR></TBODY></TABLE></DIV>
<DIV onclick=jc.selectElement(this); id=rich0031 class=RICHTEXT contentEditable=false jQuery15109979635317510751="16">
<H1>PROBLEM!!!!&nbsp; penser à peut-être tout recalculer pour chaque span?? est-ce juste??</H1></DIV>
<DIV class="BOTTOMTOOLBAR HIDDEN"><BUTTON onclick=jc.insertNewSection(this.parentNode);>^ new section ^</BUTTON><BUTTON onclick=jc.insertNewRichText(this.parentNode);>^ new rich text ^</BUTTON><BUTTON onclick=jc.insertNewCodeBlock(this.parentNode);>^ new code ^</BUTTON></DIV></DIV></DIV>
<DIV class="BOTTOMTOOLBAR HIDDEN"><BUTTON onclick=jc.insertNewSection(this.parentNode);>^ new section ^</BUTTON><BUTTON onclick=jc.insertNewRichText(this.parentNode);>^ new rich text ^</BUTTON><BUTTON onclick=jc.insertNewCodeBlock(this.parentNode);>^ new code ^</BUTTON></DIV></DIV></DIV>
<DIV id=localToolBar class=HIDDEN><BUTTON onclick=jc.insertNewSection(jc.localToolBar);>^ new section ^</BUTTON><BUTTON onclick=jc.insertNewRichText(jc.localToolBar);>^ new richtext ^</BUTTON><BUTTON onclick=jc.insertNewCodeBlock(jc.localToolBar);>^ new code ^</BUTTON><SPAN id=codeId>code0020</SPAN><INPUT onclick="$('.CODE').toggleClass('HIDDEN',this.checked);this.scrollIntoView();" type=checkbox>hide codes</INPUT><INPUT onclick="$('.DELETED').toggleClass('HIDDEN',this.checked);this.scrollIntoView();" type=checkbox>hide deleted</INPUT><INPUT onclick="$('.TEST').toggleClass('HIDDEN',this.checked);" type=checkbox>hide tests</INPUT><INPUT onclick="$('.TRACE').toggleClass('HIDDEN',this.checked);" type=checkbox>hide traces</INPUT><BUTTON onclick=jc.hideToolBars();>hide ToolBars</BUTTON>
<DIV class=RICHEDITTOOLBAR style="FLOAT: left"><BUTTON onclick=jc.richedit.bold();><B>B</B></BUTTON><BUTTON onclick=jc.richedit.italic();><I>i</I></BUTTON><BUTTON onclick=jc.richedit.underline();><U>U</U></BUTTON><BUTTON onclick=jc.richedit.strike();><STRIKE>S</STRIKE></BUTTON><BUTTON onclick=jc.richedit.h1();><B>H1</B></BUTTON><BUTTON onclick=jc.richedit.h2();><B>H2</B></BUTTON><BUTTON onclick=jc.richedit.div();>div</BUTTON><BUTTON onclick=jc.richedit.p();>¶</BUTTON><BUTTON onclick=jc.richedit.ol();>#</BUTTON><BUTTON onclick=jc.richedit.ul();>•</BUTTON><BUTTON onclick=jc.richedit.pre();>{}</BUTTON></DIV>
<DIV><BUTTON onclick=jc.execAutoExec();>run</BUTTON><BUTTON onclick=jc.execAll();>run all</BUTTON><BUTTON onclick=jc.showOutputHtml(this);>show html</BUTTON><BUTTON onclick=jc.copyOutputToTest(this);>--&gt;test</BUTTON><BUTTON onclick=jc.toggleAutoExec();>autoexec</BUTTON><BUTTON onclick=jc.save();>save</BUTTON><BUTTON onclick=jc.deleteBlock(jc.selectedElement);>V delete V</BUTTON></DIV></DIV>
<DIV class="BOTTOMTOOLBAR HIDDEN"><BUTTON onclick=jc.insertNewSection(this.parentNode);>^ new section ^</BUTTON><BUTTON onclick=jc.insertNewRichText(this.parentNode);>^ new rich text ^</BUTTON><BUTTON onclick=jc.insertNewCodeBlock(this.parentNode);>^ new code ^</BUTTON></DIV></BODY></HTML>