<HTML xmlns="http://www.w3.org/1999/xhtml" APPLICATIONNAME="D:\Documents\programmation\jcalc\jcalcV0\jcalc_diff.hta" xmlns:svg = "http://www.w3.org/2000/svg" XMLNS:HTA><HEAD><HTA:APPLICATION APPLICATIONNAME="JCalc vide" SINGLEINSTANCE="yes" SCROLL="yes"></HTA:APPLICATION><LINK rel=stylesheet type=text/css href="jcalc.css" src="jcalc.css">
<SCRIPT src="jquery-1.5.1.min.js"></SCRIPT>

<SCRIPT class=UPDATE src="jcalcEdi.js"></SCRIPT>

<SCRIPT src="units.js"></SCRIPT>

<SCRIPT src="jcalc.js"></SCRIPT>

<SCRIPT src="axe.js"></SCRIPT>

<SCRIPT src="stateMachine.js"></SCRIPT>

<SCRIPT src="BOM.js"></SCRIPT>

<SCRIPT src="sys.js"></SCRIPT>

<SCRIPT src="ocrRdy.js"></SCRIPT>

<SCRIPT src="finance.js"></SCRIPT>

<SCRIPT src="diff.js"></SCRIPT>
</HEAD>
<BODY hideTrace="true" designMode="on">
<DIV id=localToolBar class=HIDDEN>
<DIV><BUTTON onclick=jc.insertNewSection(jc.localToolBar);>&#8593; new section &#8593;</BUTTON><BUTTON onclick=jc.insertNewRichText(jc.localToolBar);>&#8593; new richtext &#8593;</BUTTON><BUTTON onclick=jc.insertNewCodeBlock(jc.localToolBar);>&#8593; new code &#8593;</BUTTON></DIV>
<DIV><SPAN id=codeId>code0002</SPAN><INPUT onclick=jc.hideCode(event) type=checkbox>hide codes</INPUT><INPUT onclick=jc.hideDeleted(event) type=checkbox>hide deleted</INPUT><INPUT onclick=jc.hideTest(event) type=checkbox>hide tests</INPUT><INPUT onclick=jc.hideTrace(event) type=checkbox>hide traces</INPUT><INPUT onclick=jc.autoRun(event) CHECKED type=checkbox>auto run</INPUT><BUTTON onclick=jc.hideToolBars();>hide ToolBars</BUTTON></DIV>
<DIV class=RICHEDITTOOLBAR><BUTTON onclick=jc.richedit.bold();><B>B</B></BUTTON><BUTTON onclick=jc.richedit.italic();><I>i</I></BUTTON><BUTTON onclick=jc.richedit.underline();><U>U</U></BUTTON><BUTTON onclick=jc.richedit.strike();><STRIKE>S</STRIKE></BUTTON><BUTTON onclick=jc.richedit.h1();><B>H1</B></BUTTON><BUTTON onclick=jc.richedit.h2();><B>H2</B></BUTTON><BUTTON onclick=jc.richedit.div();>div</BUTTON><BUTTON onclick=jc.richedit.p();>¶</BUTTON><BUTTON onclick=jc.richedit.ol();>#</BUTTON><BUTTON onclick=jc.richedit.ul();>&#8226;</BUTTON><BUTTON onclick=jc.richedit.pre();>{}</BUTTON><BUTTON onclick=jc.execSelected(); style="COLOR: green">&#9658;|</BUTTON><BUTTON onclick=jc.execAll(); style="COLOR: green">&#9658;&#9658;</BUTTON><BUTTON onclick=jc.showOutputHtml(this);>show html</BUTTON><BUTTON onclick=jc.copyOutputToTest(this);>&#8594;test</BUTTON><BUTTON onclick=jc.toggleAutoExec();>autoexec</BUTTON><BUTTON onclick=jc.save(); disabled id=saveBtn>save</BUTTON><BUTTON onclick=jc.deleteBlock(jc.selectedElement);>&#8595; delete &#8595;</BUTTON></DIV></DIV><PRE onclick=jc.selectElement(this); id=code0002 class=CODE contentEditable=false jQuery151019939757543795433="1" jQuery151038112915218014453="1" jQuery15102978935996851378="1" jQuery15105772820449070435="1" jQuery15107771737150369568="1" jQuery151006882414306363765="1" jQuery151030131846669126116="1" jQuery15104417504930836738="2" jQuery151038570409266745264="1" jQuery151044218336066851915="1" jQuery15108791567638444958="1" jQuery151043098082856920744="1" jQuery15105427634888996812="1" jQuery15108859430851247392="1" jQuery15107321816985792658="1"><P>trace.on=false</P><P>var t1 = 'toto\ntutu\ntitirrr\naaargh\nzzzzzz\nbobo';</P><P>var t2 = 'toto\ntutu\ntitizzz\nbobo\ncaca';</P><P>v.d = jc.diff(t1,t2);</P><P>d</P></PRE>
<DIV id=out0002 class="OUTPUT SUCCESS" jQuery151019939757543795433="3" jQuery151038112915218014453="3" jQuery15102978935996851378="2" jQuery15105772820449070435="2" jQuery15107771737150369568="2" jQuery151006882414306363765="2" jQuery151030131846669126116="2" jQuery15104417504930836738="1" jQuery151038570409266745264="2" jQuery151044218336066851915="2" jQuery15108791567638444958="2" jQuery151043098082856920744="2" jQuery15105427634888996812="3" jQuery15108859430851247392="2" jQuery15107321816985792658="3"><PRE class="DIFF EQUAL">toto
tutu
</PRE><PRE class="DIFF DEL">titirrr
aaargh
zzzzzz
</PRE><PRE class="DIFF ADD">titizzz
</PRE><PRE class="DIFF EQUAL">bobo
</PRE><PRE class="DIFF DEL"></PRE><PRE class="DIFF ADD">caca
</PRE></DIV><PRE onclick=jc.selectElement(this); id=code0004 class=CODE contentEditable=false jQuery151019939757543795433="2" jQuery15108859430851247392="4" jQuery15107321816985792658="2">jc.inspect(d,'',3)</PRE>
<DIV id=out0004 class="OUTPUT SUCCESS" jQuery151019939757543795433="4" jQuery15108859430851247392="3" jQuery15107321816985792658="4">
<DIV class=INSPECT>
<FIELDSET><LEGEND>[object Object] </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>l1</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>[] </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>0</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i1</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>0</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>toto</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>=</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>1</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i1</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>1</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>tutu</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>=</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>2</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i1</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>2</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>titirrr</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>-</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>3</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i1</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>3</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>aaargh</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>-</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>4</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i1</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>4</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>zzzzzz</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>-</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>5</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i1</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>5</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>bobo</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>=</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>l2</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>[] </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>0</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i2</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>0</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>toto</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>=</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>1</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i2</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>1</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>tutu</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>=</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>2</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i2</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>2</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>titizzz</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>+</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>3</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i2</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>3</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>bobo</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>=</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>4</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>{} </LEGEND>
<TABLE class=INSPECT>
<TBODY>
<TR>
<TH vAlign=top>i2</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>4</TD></TR>
<TR>
<TH vAlign=top>line</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>caca</TD></TR>
<TR>
<TH vAlign=top>status</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>+</TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>i1</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>6 </LEGEND>
<TABLE class=INSPECT>
<TBODY></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>i2</TH>
<TD style="TEXT-ALIGN: left" vAlign=top>
<DIV class=INSPECT>
<FIELDSET><LEGEND>5 </LEGEND>
<TABLE class=INSPECT>
<TBODY></TBODY></TABLE></FIELDSET></DIV></TD></TR>
<TR>
<TH vAlign=top>markIdentical</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function ()</B><BR>&nbsp;mark&nbsp;identical&nbsp;lines&nbsp;using&nbsp;the&nbsp;2&nbsp;indexes&nbsp;this.i1&nbsp;and&nbsp;this.i2</TD></TR>
<TR>
<TH vAlign=top>resynchronize</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function ()</B><BR>&nbsp;assumes&nbsp;that&nbsp;the&nbsp;lines&nbsp;at&nbsp;current&nbsp;index&nbsp;are&nbsp;not&nbsp;identical<BR>&nbsp;tries&nbsp;to&nbsp;resynchronize</TD></TR>
<TR>
<TH vAlign=top>markDiff</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function (begin1,end1,begin2,end2)</B><BR>&nbsp;mark&nbsp;the&nbsp;lines&nbsp;of&nbsp;1&nbsp;as&nbsp;'-'&nbsp;(deleted)&nbsp;between&nbsp;begin1(included)&nbsp;and&nbsp;end1(not&nbsp;included)<BR>&nbsp;&nbsp;and&nbsp;the&nbsp;lines&nbsp;of&nbsp;2&nbsp;as&nbsp;'+'&nbsp;(aded)&nbsp;between&nbsp;begin2(included)&nbsp;and&nbsp;end2(notincluded)</TD></TR>
<TR>
<TH vAlign=top>execute</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function ()</B><BR>&nbsp;execute&nbsp;the&nbsp;diff</TD></TR>
<TR>
<TH vAlign=top>span</TH>
<TD style="TEXT-ALIGN: left" vAlign=top><B>function ()</B><BR></TD></TR></TBODY></TABLE></FIELDSET></DIV></DIV>
<DIV class="BOTTOMTOOLBAR HIDDEN"><BUTTON onclick=jc.insertNewSection(this.parentNode);>^ new section ^</BUTTON><BUTTON onclick=jc.insertNewRichText(this.parentNode);>^ new rich text ^</BUTTON><BUTTON onclick=jc.insertNewCodeBlock(this.parentNode);>^ new code ^</BUTTON></DIV></BODY></HTML>